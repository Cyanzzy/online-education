# 1 需求分析

课程计划添加成功，如果课程还没有提交可以删除课程计划。

 ![](https://cyan-images.oss-cn-shanghai.aliyuncs.com/images/online-education-20230122-43.png)

删除第一级别的大章节时要求大章节下方没有小章节时方可删除，删除第二级别的小章节的同时需要将teachplan_media表关联的信息也删除

# 2 接口定义

```json
Request URL: http://localhost:8601/api/content/teachplan/256
Request Method: DELETE

如果删除失败返回：
{
    "errCode":"120409",
    "errMessage":"课程计划信息还有子级信息，无法操作"
}
如果删除成功：状态码：200，不返回信息
```

```java
@ApiOperation("课程计划删除接口")
@DeleteMapping("/teachplan/{teachplanId}")
public void deleteTeachplan(@PathVariable Long teachplanId){
}
```



# 3 接口测试

```json
### 删除课程计划
DELETE {{content_host}}/content/teachplan/43
```

> 测试用例

* 删除大章节，大章节下还有小章节时不允许删除
* 删除大章节，大章节下没有小章节时可以正常删除
* 删除小章节，同时将关联的信息进行删除

