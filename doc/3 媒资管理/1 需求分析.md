# 模块介绍

媒资管理的主要管理对象是视频、图片、文档等，包括：媒资文件的查询、文件上传、视频处理等。

媒资查询：教学机构查询自己所拥有的媒资信息。

文件上传：包括上传图片、上传文档、上传视频。

视频处理：视频上传成功，系统自动对视频进行编码处理。

文件删除：教学机构删除自己上传的媒资文件。

下图是课程编辑与发布的整体流程，通过下图可以看到媒资在整体流程的位置：

![](https://cyan-images.oss-cn-shanghai.aliyuncs.com/images/online-education-20230122-48.png)

# 业务流程

> 上传图片

教学机构人员在课程信息编辑页面上传课程图片，课程图片统一记录在媒资管理系统。

> 上传视频

1. 教学机构人员进入媒资管理列表查询自己上传的媒资文件，点击“媒资管理”，进入媒资管理列表页面查询本机构上传的媒资文件。

2. 教育机构用户在"媒资管理"页面中点击 "上传视频" 按钮，点击“上传视频”打开上传页面
3. 点击“上传视频”打开上传页面
4. 视频上传成功会自动处理，处理完成可以预览视频。  

> 处理视频

对需要转码处理的视频系统会自动对其处理，处理后生成视频的URL，处理视频没有用户界面，完全是后台自动执行。

> 审核媒资

1. 运营用户登入运营平台并进入媒资管理页面，查找待审核媒资
2. 点击列表中媒资名称链接，可预览该媒资，若是视频，则播放视频  
3. 点击列表中某媒资后的"审核" 按钮，既完成媒资的审批过程，点击“审核”，选择审核结果，输入审核意见。

> 绑定媒资

课程计划创建好后需要绑定媒资文件，比如：如果课程计划绑定了视频文件，进入课程在线学习界面后点课程计划名称则在线播放视频。  

1. 教育机构用户进入课程管理页面并编辑某一个课程，在"课程大纲"标签页的某一小节后可点击”添加视频“
2. 教育机构用户进入课程管理页面并编辑某一个课程，在"课程大纲"标签页的某一小节后可点击”添加视频“。

3. 选择视频媒资，点击提交按钮，完成课程计划绑定媒资流程。

# 数据模型

本模块媒资文件相关的数据表如下：

![](https://cyan-images.oss-cn-shanghai.aliyuncs.com/images/online-education-20230122-49.png)

媒资文件表：存储文件信息，包括图片、视频、文档等。

media_process: 待处理视频表。

media_process_history: 视频处理历史表，记录已经处理成功的视频信息。

媒资文件与课程计划绑定关系表如下：

![](https://cyan-images.oss-cn-shanghai.aliyuncs.com/images/online-education-20230122-50.png)



