# 技术架构

在线教育项目采用当前流行的前后端分离架构开发，由以下流程来构成：用户层、CDN内容分发和加 速、负载均衡、UI层、微服务层、数据层。 

> 项目技术架构

![](https://cyan-images.oss-cn-shanghai.aliyuncs.com/images/online-education-20230122-04.png)

> 架构列表

| 序 号 | 名称      | 说明                                                         |
| ----- | --------- | ------------------------------------------------------------ |
| 1     | 用户层    | 本系统所支持的用户类型包括：pc用户、app用户、h5用户。pc用 户通过浏览器访问系统、app用户通过android、ios手机访问系统，H5用户通过 h5页面访问系统。 |
| 2     | CDN       | CDN全称Content Delivery Network，即内容分发网络，本系统所有静态资源全 部通过CDN加速来提高访问速度。系统静态资源包括：html页面、js文件、css文 件、image图片、pdf和ppt及doc教学文档、video视频等。 |
| 3     | 负载 均衡 | 系统的CDN层、UI层、服务层及数据层均设置了负载均衡服务，上图仅在UI层前 边标注了负载均衡。 每一层的负载均衡会根据系统的需求来确定负载均衡器的类 型，系统支持4层负载均衡+7层负载均衡结合的方式，4层负载均衡是指在网络传 输层进行流程转发，根据IP和端口进行转发，7层负载均衡完成HTTP协议负载均 衡及反向代理的功能，根据url进行请求转发。 |
| 4     | UI层      | UI层描述了系统向pc用户、app用户、h5用户提供的产品界面。根据系统功能模 块特点确定了UI层包括如下产品界面类型： 1）面向pc用户的门户系统、学习中 心系统、教学管理系统、系统管理中心。 2）面向h5用户的门户系统、学习中心 系统。 3）面向app用户的门户系统、学习中心系统。 |
| 5     | 微服 务层 | 微服务层将系统服务分类三类：业务服务、基础服务、第三方代理服务。 **业务服务**：主要为学成在线核心业务提供服务，并与数据层进行交互获得数据。 **基础服务**：主要管理学成在线系统运行所需的配置、日志、任务调度、短信等系统级别 的服务。 **第三方代理服务**：系统接入第三方服务完成业务的对接，例如认证、支付、视频点播/直播、用户认证和授权。 |
| 6     | 数据 层   | 数据层描述了系统的数据存储的内容类型，**关系性数据库**：持久化的业务数据使 用MySQL。 **消息队列**：存储系统服务间通信的消息，本身提供消息存取服务，与微服务层的系统服务连接。 **索引库**：存储课程信息的索引信息，本身提供索引维 护及搜索的服务，与微服务层的系统服务连接。 **缓存**：作为系统的缓存服务，作为微服务的缓存数据便于查询。**文件存储**：提供系统静态资源文件的分布式存储 服务，文件存储服务器作为CDN服务器的数据来源，CDN上的静态资源将最终在 文件存储服务器上保存多份。 |

> 流程说明

1. 用户可以通过pc、手机等客户端访问系统进行在线学习。
2. 系统应用CDN技术，对一些图片、CSS、视频等资源从CDN调度访问。  

3. 所有的请求全部经过负载均衡器。  

4. 对于PC、H5等客户端请求，首先请求UI层，渲染用户界面 
5. 客户端UI请求服务层获取进行具体的业务操作
6. 服务层将数据持久化到数据库 

# 技术栈

![](https://cyan-images.oss-cn-shanghai.aliyuncs.com/images/online-education-20230122-05.png)